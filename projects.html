---
layout: default
title: Projects
navbar_title: Projects
body_attr: >-
  data-spy="scroll" data-target="#navbar-year" data-offset="100"
---

{% comment %} 取 projects 集合，按 order / date 排序 {% endcomment %}
{% assign projects_sorted =
  site.projects
  | sort: "order"
  | sort: "date" | reverse
%}

<div class="row">
  <div class="col-12">
    <h1 class="mb-3">Projects</h1>
    <p class="text-muted mb-4">
      All of my past and current projects are listed here.
    </p>

    <div class="row">
      {% for item in projects_sorted %}
        {% include widgets/project_card.html item=item %}
      {% endfor %}
    </div>
  </div>
</div>


<script>
    // 触摸时给卡片加上 .is-hover，短暂显示浮起态
    document.addEventListener('touchstart', function (e) {
      const card = e.target.closest('.project-card.interactive');
      if (!card) return;
      card.classList.add('is-hover');
      // 150~200ms 够用，可按需调整
      setTimeout(() => card.classList.remove('is-hover'), 180);
    }, { passive: true });
  
    // 鼠标移出或失焦时，确保移除
    document.addEventListener('mouseleave', function (e) {
      const card = e.target.closest && e.target.closest('.project-card.interactive');
      if (card) card.classList.remove('is-hover');
    }, true);
  
    // 键盘 Tab 聚焦时也浮起（a、button 等在卡内）
    document.addEventListener('focusin', function (e) {
      const card = e.target.closest('.project-card.interactive');
      if (card) card.classList.add('is-hover');
    });
    document.addEventListener('focusout', function (e) {
      const card = e.target.closest('.project-card.interactive');
      if (card) card.classList.remove('is-hover');
    });
  </script>
  
